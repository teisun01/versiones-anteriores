<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<title>Cristales</title>
  <link href="https://fonts.googleapis.com/css2?family=Merriweather:wght@700&display=swap" rel="stylesheet">

<style>
  body{
      font-family: 'Merriweather', serif;
  font-weight: 700; /* Bold */
    display:flex;
    flex-direction:column;
    justify-content:flex-start;
    align-items:center;
    min-height:100vh;
    background:#2F4C3A;
    margin:0;
  }

  header {
    width:100%;
    height:60px;
    background:#88B78A;
    color:#fff;
    display:flex;
    align-items:center;
    justify-content:space-between;
    padding:0 20px;
    box-sizing:border-box;
  }
  header .titulo { font-weight:bold;font-size:18px; }
  header img { height:40px;width:auto; }

  #tituloPrincipal,#tituloCristal{
    color:#fff;
    margin:20px 0;
    text-align:center;
    font-size:2rem;
  }
  #tituloCristal { display:none; }

  .contenedor{
    position:relative;
    width:100%;
    max-width:1000px;
    flex:1;
    display:flex;
    align-items:center;
    justify-content:center;
    margin-top:20px;
  }

  .grilla {
    position:relative;
    width:100%;
    height:500px;
    display:flex;
    align-items:center;
    justify-content:center;
  }
  .grilla.oculto { display:none; }

  .wrap {
    position:absolute;
    width:12%;
    max-width:100px;
    aspect-ratio:1/1;
    display:flex;
    align-items:center;
    justify-content:center;
    transition: all 0.4s ease;
    opacity:1;
    cursor:pointer;
  }
  .wrap img{
    width:100%;
    height:100%;
    object-fit:contain;
    pointer-events:none;
    transition: transform 0.4s ease;
  }
  .wrap.inhabilitado { pointer-events:none; cursor:default; }

  /* === POSICIONES FIJAS === */
  .izq-arriba   { top:20%; left:25%; transform:translate(-50%,-50%); }
  .izq-abajo    { top:70%; left:25%; transform:translate(-50%,-50%); }
  .centro       { top:45%; left:50%; transform:translate(-50%,-50%); width:20%; max-width:160px; }
  .der-arriba   { top:20%; left:75%; transform:translate(-50%,-50%); }
  .der-abajo    { top:70%; left:75%; transform:translate(-50%,-50%); }

  .palpitando {
    animation: palpitar 1.3s infinite ease-in-out;
    transform-origin:center;
  }
  @keyframes palpitar {
    0%,100% { transform: scale(1); }
    50%    { transform: scale(1.18); }
  }

  .zona-activa {
    display:none;
    width:100%;
    max-width:900px;
    align-items:center;
    justify-content:center;
    gap:40px;
  }
  .zona-activa.visible { display:flex; }

  .texto-info {
    width:300px;
    padding:20px;
    font-size:24px;
    color:#ffff;
    line-height:1.5;
  }
  .cristal-clon {
    width:220px;
    height:220px;
    flex-shrink:0;
    cursor:pointer;
  }
  .cristal-clon img { width:100%; height:100%; object-fit:contain; }
</style>
</head>
<body>

<header>
  <div class="titulo">Mortalis</div>
  <img src="img/mortalislogo.png" alt="Logo">
</header>

<h1 id="tituloPrincipal">FAMILIA DE CRISTALES</h1>
<h1 id="tituloCristal"></h1>

<div class="contenedor">
  <div class="grilla" id="grilla">

    <!-- IZQUIERDA -->
    <div id="cVioleta" class="wrap izq-arriba inhabilitado">
      <img src="img/cristales/cristalvioleta.png"
           data-disabled="img/cristales/cristalvioletalinea.png"
           data-title="Amatista">
    </div>

    <div id="cRosa" class="wrap izq-abajo">
      <img src="img/cristales/cristalrosa.png"
           data-disabled="img/cristales/cristalrosalinea.png"
           data-title="Rodonita"
           class="palpitando">
    </div>

    <!-- CENTRO -->
    <div id="cCeleste" class="wrap centro inhabilitado">
      <img src="img/cristales/cristalceleste.png"
           data-disabled="img/cristales/cristalcelestelinea.png"
           data-title="Cristal de Selen">
    </div>

    <!-- DERECHA -->
    <div id="cAmarillo" class="wrap der-arriba inhabilitado">
      <img src="img/cristales/cristalamarillo.png"
           data-disabled="img/cristales/cristalamarillolinea.png"
           data-title="Citrino">
    </div>

    <div id="cVerde" class="wrap der-abajo inhabilitado">
      <img src="img/cristales/cristalverde.png"
           data-disabled="img/cristales/cristalverdelinea.png"
           data-title="Jade">
    </div>
  </div>

  <div class="zona-activa" id="zonaActiva"></div>
</div>

<script>
  // Nuevo orden: rosa -> violeta -> verde -> amarillo -> celeste
  const order = ['cRosa','cVioleta','cVerde','cAmarillo','cCeleste'];
  const activated = new Set(['cRosa']); // rosa empieza activo
  let cristalActivo = null;

  // Cargar imÃ¡genes deshabilitadas excepto la rosa
  document.querySelectorAll(".wrap.inhabilitado img").forEach(img => {
    if(img.dataset.disabled){
      img.dataset.enabled = img.src;
      img.src = img.dataset.disabled;
    }
  });

  function activate(id){
    const wrap = document.getElementById(id);
    if(!wrap || !wrap.classList.contains('inhabilitado')) return;
    wrap.classList.remove('inhabilitado');
    const img = wrap.querySelector('img');
    if(img && img.dataset.enabled){ img.src = img.dataset.enabled; }
    if(img) img.classList.add('palpitando');
    activated.add(id);
  }

  const tituloPrincipal = document.getElementById("tituloPrincipal");
  const tituloCristal   = document.getElementById("tituloCristal");

  order.forEach(id => {
    const wrap = document.getElementById(id);
    if(!wrap) return;
    wrap.addEventListener('click', () => {
      if(wrap.classList.contains('inhabilitado')) return;

      const grilla = document.getElementById("grilla");
      const zonaActiva = document.getElementById("zonaActiva");

      if(cristalActivo === id){
        cristalActivo = null;
        zonaActiva.classList.remove("visible");
        zonaActiva.innerHTML = "";
        grilla.classList.remove("oculto");
        tituloPrincipal.style.display = "block";
        tituloCristal.style.display = "none";
      } else {
        cristalActivo = id;
        grilla.classList.add("oculto");
        zonaActiva.classList.add("visible");
        zonaActiva.innerHTML = "";

        const nombre = wrap.querySelector("img").dataset.title || "Cristal";
        tituloPrincipal.style.display = "none";
        tituloCristal.textContent = nombre;
        tituloCristal.style.display = "block";

        const clon = document.createElement("div");
        clon.className = "cristal-clon";
        const img = wrap.querySelector("img");
        clon.innerHTML = `<img src="${img.src}" alt="">`;

        clon.addEventListener("click", () => {
          cristalActivo = null;
          zonaActiva.classList.remove("visible");
          zonaActiva.innerHTML = "";
          grilla.classList.remove("oculto");
          tituloPrincipal.style.display = "block";
          tituloCristal.style.display = "none";
        });

        const text = document.createElement("div");
        text.className = "texto-info";
        switch(id){
          case "cRosa":    text.innerHTML="<small>Aquellas personas que lleven este cristal se destacan por ser positivas y calmadas. Asociadas con la creatividad, provienen de una familia.</small>"; break;
          case "cVioleta": text.innerHTML="<small>Esta piedra representa a las personas serenas y con una gran intuicion.</small>"; break;
          case "cVerde":   text.innerHTML="<small>Una piedra sagrada y armonica, proveniente de una familia con una gran conexion con la naturaleza</small>"; break;
          case "cAmarillo":text.innerHTML="<small>Para las personas que siempre buscan llegar al exito, esta piedra la mejor que podran llevar. Proveniente de una familia optimista y alegre</small>"; break;
          case "cCeleste": text.innerHTML="<small>La piedra principal, aquella que fue de Selen, brinda salud y prosperidad a su pueblo </small>"; break;
        }
        zonaActiva.appendChild(clon);
        zonaActiva.appendChild(text);

        // Activar el siguiente en la cadena
        const idx = order.indexOf(id);
        const nextId = order[idx + 1];
        if(nextId && !activated.has(nextId)){ activate(nextId); }
      }
    });
  });
</script>
</body>
</html>
