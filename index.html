<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>web principal</title>
  <link href="https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@900&family=Merriweather:ital,wght@0,300;0,700;1,300&display=swap" rel="stylesheet">
  <style>
    :root { --bg:#0b0b0f; --muted:#d6d6d8; }

    html, body {
      height: 100%;
      margin: 0;
      width: 100%;
      max-width: 100%;
      font-family: 'Merriweather', serif;
      background-color: var(--bg);
      background-image: url("img/pasto-recortado.png"), url("img/pasto-recortado.png");
      background-repeat: no-repeat, repeat-y;
      background-position: center top, center top;
      background-size: cover, cover;
      color: var(--muted);
    }

    img, .parallax-fotos, .parallax-descendiente, .titulo {
      max-width: 100%;
      height: auto;
      display: block;
    }

    .contenedor {
      position: relative;
      width: 100%;
      margin: 0 auto;
      overflow-x: hidden;
    }

    .escenario {
      position: relative;
      height: 100vh;
      overflow: hidden;
      display: flex;
      align-items: flex-start;
      justify-content: center;
      text-align: center;
      flex-direction: column;
    }

    .titulo {
      position: absolute;
      z-index: 102;
      width: 600px;
      top: 40%;
      left: 10%;
      transform: none;
    }

    .parallax-fotos, .parallax-descendiente, #arbolesfondo-solo {
      position: absolute;
      top: 0;
      left: 50%;
      transform: translateX(-50%);
      pointer-events: none;
    }

    .parallax-fotos { width: 100%; height: auto; max-width: none; }

    #arbolesfondo-solo {
      width: 100%;
      height: 100vh;
      background-size: cover;
      background-image: url("img/arbolesfondo-solo.png");
      background-repeat: repeat-x;
      background-position: top center;
      z-index: 0;
    }

    #hojasarbol { z-index: 98; }
    #layer-brilloramas { z-index: 99; }
    #ramas { z-index: 100; }
    #layer-brilloraices { z-index: 101; }
    #layer-frutos { z-index: 102; }
    #layer-descendiente { z-index: 103; }

    /* --- Brillos --- */
    #layer-brilloramas {
      animation: twinkle 4s infinite ease-in-out;
      opacity: 0.05;
    }
    @keyframes twinkle {
      0%,100% { opacity: 0.05; }
      50% { opacity: 1; }
    }

    /* --- Brillo raÃ­ces --- */
    #layer-brilloraices.base {
      opacity: 0.1;
      animation: glowBase 6s infinite ease-in-out;
    }
    @keyframes glowBase {
      0%,100% { opacity: 0.1; }
      50% { opacity: 0.3; }
    }

    #layer-brilloraices.active {
      opacity: 1;
      -webkit-mask-image: linear-gradient(to bottom, black 0%, black 100%);
      -webkit-mask-repeat: no-repeat;
      -webkit-mask-position: top left;
      -webkit-mask-size: 100% 0%;
      mask-image: linear-gradient(to bottom, black 0%, black 100%);
      mask-repeat: no-repeat;
      mask-position: top left;
      mask-size: 100% 0%;
      animation:
        revealBrilloraices 2.8s ease-out forwards,
        glowActive 6s infinite ease-in-out 2.8s;
    }

    @keyframes revealBrilloraices {
      0% { -webkit-mask-size: 100% 0%; mask-size: 100% 0%; }
      100% { -webkit-mask-size: 100% 100%; mask-size: 100% 100%; }
    }

    #layer-brilloraices.reverse {
      opacity: 1;
      -webkit-mask-image: linear-gradient(to bottom, black 0%, black 100%);
      -webkit-mask-repeat: no-repeat;
      -webkit-mask-position: top left;
      -webkit-mask-size: 100% 100%;
      mask-image: linear-gradient(to bottom, black 0%, black 100%);
      mask-repeat: no-repeat;
      mask-position: top left;
      mask-size: 100% 100%;
      animation: revealBrilloraicesReverse 2.8s ease-out forwards;
    }

    @keyframes revealBrilloraicesReverse {
      0% { -webkit-mask-size: 100% 100%; mask-size: 100% 100%; opacity: 1; }
      100% { -webkit-mask-size: 100% 0%; mask-size: 100% 0%; opacity: 0.1; }
    }

    @keyframes glowActive {
      0%,100% { opacity: 0.75; }
      50% { opacity: 1; }
    }

    section.historia {
      min-height: 100vh;
      padding: 40px 80px 80px 80px;
      z-index: 2;
      display: flex;
      flex-direction: column;
      text-align: left;
      align-items: flex-start;
      box-sizing: border-box;
      width: 100%;
      max-width: 100%;
    }

    section.historia h2 {
      font-size: clamp(28px, 2vw + 1rem, 64px);
      margin-bottom: 15px;
      color: #fff;
      letter-spacing: 1px;
      font-weight: 700;
    }

    section.historia p {
      font-size: clamp(16px, 1.2vw + 0.5rem, 28px);
      line-height: 1.3;
      color: #fff;
      max-width: 700px;
      white-space: pre-line;
      text-align: left;
      margin-left: 5%;
      margin-top: 5px;
      margin-bottom: 10px;
      font-style: italic;
      opacity: 0.9;
    }

    /* --- SECCIÃ“N BLOQUE --- */
    section.bloque {
      position: relative;
      width: 100%;
      max-width: 100%;
      min-height: 100vh;
      overflow: hidden;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 80px 0;
      box-sizing: border-box;
      background: transparent;
      color: #fff;
    }

    section.bloque img {
      position: absolute;
      height: auto;
      max-width: 1200px;
      object-fit: contain;
    }

    .bloqueweb {
      transform: translateX(-50%);
      left: 50%;
      top: -136px;
      position: relative;
    }

    .bloque-centro {
      position: relative;
      z-index: 6;
      width: 60%;
      max-width: 800px;
      margin: 0 auto;
      text-align: center;
    }

    .contador-box {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      z-index: 10;
      text-align: center;
      color: #ffff;
    }

    .contador-box h2 {
      margin: 0;
      font-size: clamp(18px, 2vw + 1rem, 48px);
      color: #ffff;
      font-weight: 700;
    }


    .contador {
  font-size: clamp(28px, 3vw + 1rem, 64px);
  font-weight: bold;
  letter-spacing: 2px;
  color: #ffff;
  margin: 10px 0;
  min-width: 220px;       /* ðŸ”¹ reserva espacio suficiente */
  white-space: nowrap;    /* ðŸ”¹ evita salto de lÃ­nea */
  text-align: center;     /* ðŸ”¹ centrado estable */
}
    /* --- Redes Sociales fuera del bloqueweb --- */
    .redes-box {
      position: absolute;
      bottom: 40px;
      left: 50%;
      transform: translateX(-50%);
      text-align: center;
      z-index: 12;
    }
    .redes-titulo {
      margin-top: 40px;
      font-size: clamp(16px, 1.5vw + 0.8rem, 36px);
      color: #fff;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .redes-texto {
      font-size: clamp(14px, 1.2vw + 0.5rem, 28px);
      color: #d6d6d8;
      margin-top: 10px;
      line-height: 1.4;
      white-space: pre-line;
      font-style: italic;
    }

    .fruto-arribaizquierda { top: 0; left: 0; width: 180px; }
    .fruto-arribaderecha { top: 0; right: 0; width: 180px; }
    .fruto-abajoizquierda { bottom: 0; left: 0; width: 180px; }
    .fruto-abajoderecha { bottom: 0; right: 0; width: 180px; }


/* VERSION CELULAR */

    @media (max-width: 768px) {
      #arbolesfondo-solo { left:80%; width:180vw; height:140vh; background-size:cover; }
      #arbol-amarillo { left:75%; transform:translateX(-50%) translateY(280px)!important; width:150%; }
      #selen { left:85%!important; transform:translateX(-50%) translateY(180px)!important; width:200%; }
      .titulo { top:45%; left:50%; transform:translateX(-50%) translateY(-200px)!important; width:80%; max-width:350px; }
      section.historia { padding:20px; }
      section.historia h2 { font-size: clamp(18px, 5vw, 28px); margin-bottom:10px; }
      section.historia p { font-size: clamp(14px, 4vw, 20px); max-width:100%; margin-left:0; line-height:1.4; }
      .bloque-centro { width: 80%; }
      .contador-box h2 { font-size: clamp(16px, 5vw, 24px); }
      .contador { font-size: clamp(20px, 6vw, 40px); }
      .bloqueweb { width: 120%; max-width: none; }

/* TEXTOS */
  #arbolesfondo-solo { 
    left:80%; 
    width:180vw; 
    height:140vh; 
    background-size:cover; 
  }
  #arbol-amarillo { 
    left:75%; 
    transform:translateX(-50%) translateY(280px)!important; 
    width:150%; 
  }
  #selen { 
    left:85%!important; 
    transform:translateX(-50%) translateY(180px)!important; 
    width:200%; 
  }
  .titulo { 
    top:45%; 
    left:50%; 
    transform:translateX(-50%) translateY(-200px)!important; 
    width:80%; 
    max-width:350px; 
  }

  section.historia { 
    padding:20px; 
  }
  section.historia h2 { 
    font-size: 22px;   /* antes clamp grande â†’ mÃ¡s legible en mÃ³vil */
    margin-bottom:10px; 
  }
  section.historia p { 
    font-size: 14px;   /* texto mÃ¡s compacto */
    max-width:100%; 
    margin-left:0; 
    line-height:1.4; 
  }

  .bloque-centro { 
    width: 85%; 
  }
  .contador-box h2 { 
    font-size: 16px; 
  }
  .contador { 
    font-size: 22px; 
  }
  .bloqueweb { 
    width: 120%; 
    max-width: none; 
  }

  .redes-titulo {
    font-size: 16px;
  }
  .redes-texto {
    font-size: 14px;
  }
}



  </style>
</head>
<body>
  <div class="contenedor">
    <div class="escenario" id="escenario">
      <div id="arbolesfondo-solo"></div>
      <img class="parallax-fotos" id="arbol-amarillo" src="img/arbol-amarillo.png" alt="Ã¡rbol amarillo" />
      <img class="parallax-fotos" id="selen" src="img/selen.png" alt="selen" />
      <img class="titulo" id="titulo-morthalis" src="img/morthalis.png" alt="TÃ­tulo grÃ¡fico" />
    </div>

    <img class="parallax-fotos" id="hojasarbol" src="img/hojasarbol.png" alt="hojas del Ã¡rbol" />
    <img class="parallax-fotos" id="layer-brilloramas" src="img/brilloramas.png" alt="brillo ramas" />
    <img class="parallax-fotos base" id="layer-brilloraices" src="img/brilloraices.png" alt="brilloraices" />
    <img class="parallax-fotos" id="ramas" src="img/arbolramas.png" alt="ramas del Ã¡rbol" />
    <img class="parallax-fotos" id="layer-frutos" src="img/frutos.png" alt="frutos del Ã¡rbol" />
    <img class="parallax-descendiente" id="layer-descendiente" src="img/descendiente.png" alt="descendiente" />

    <section id="capitulo1" class="historia">
      <h2>Un nuevo eco en el silencio</h2>
      <p>
La ausencia tiene un nuevo nombre,  
y no es el final.  

Se dice que al partir,  
el alma no se desvanece,  
sino que se alza, enraizada.  

El recuerdo se vuelve tangible,  
custodiado en un cristal  
que pulsa con la memoria colectiva.  

Â¿Es la muerte una metamorfosis?  

PrepÃ¡rate para el evento  
que redefinirÃ¡ el legado  
y la conexiÃ³n.  

El ciclo estÃ¡ por revelarse.
      </p>
    </section>

    <section class="bloque">
      <img src="img/fruto-arribaizquierda.png" alt="fruto arriba izquierda" class="fruto-arribaizquierda">
      <img src="img/fruto-arribaderecha.png" alt="fruto arriba derecha" class="fruto-arribaderecha">
      <img src="img/fruto-abajoizquierda.png" alt="fruto abajo izquierda" class="fruto-abajoizquierda">
      <img src="img/fruto-abajoderecha.png" alt="fruto abajo derecha" class="fruto-abajoderecha">

      <div class="bloque-centro">
        <img src="img/bloqueweb.png" alt="bloque central" class="bloqueweb">

        <div class="contador-box">
  <h2>Faltan</h2>
  <div id="contador" class="contador">00:00:00</div>
  <h2>para la muestra</h2>
</div>
      </div>

      <!-- Redes sociales fuera -->
<div class="redes-box">
  <h2 class="redes-titulo">Redes sociales:</h2>
  <div class="redes-texto">@elowen_selen<br>@cecropia.tdm3</div>
</div>
    </section>
  </div>

  <script>
    /* --------- PARALLAX --------- */
    const capas = [
      {el: document.getElementById('arbol-amarillo'), speed: 0.33},
      {el: document.getElementById('selen'), speed: 0.45}
    ];
    const arbolesfondo = document.getElementById('arbolesfondo-solo');
    const hojas = document.getElementById('hojasarbol');
    const brilloramas = document.getElementById('layer-brilloramas');
    const ramas = document.getElementById('ramas');
    const brilloraices = document.getElementById('layer-brilloraices');
    const frutos = document.getElementById('layer-frutos');
    const descendiente = document.getElementById('layer-descendiente');
    const capitulo1 = document.getElementById('capitulo1');
    let scrollActual = 0, actualizando = false;
    const porcentajeActivacion = 0.7; 
    const descendientePosicion = 0;
    const arbolAmarilloPosicion = 120;
    const desplazamientoExtra = 100;
    const escalaExtra = 1.1;
    let lastScrollY = window.scrollY || 0;

    function onScroll(){
      scrollActual = window.scrollY||window.pageYOffset;
      if(!actualizando) requestAnimationFrame(update);
      actualizando = true;
      revisarBrilloraices();
    }

    function update(){
      const y = scrollActual;
      arbolesfondo.dataset.scrollY = y*0.22;
      arbolesfondo.style.backgroundPositionY = `${arbolesfondo.dataset.scrollY}px`;
      capas.forEach(l=>{
        const t = y * l.speed;
        l.el.dataset.scrollY = t;
        let offset = t;
        if (l.el.id === "arbol-amarillo") offset += arbolAmarilloPosicion;
        l.el.style.transform = `translateX(-50%) translateY(${offset}px)`;
      });
      if (capitulo1) {
        const limite = capitulo1.offsetTop - 800;
        const offset = Math.min(y, limite) + desplazamientoExtra;
        [hojas, brilloramas, ramas, brilloraices, frutos].forEach(l=>{
          if (l) l.style.transform = `translateX(-50%) translateY(${offset}px) scale(${escalaExtra})`;
        });
        if (descendiente) descendiente.style.transform = `translateX(-50%) translateY(${offset + descendientePosicion}px) scale(${escalaExtra})`;
      }
      actualizando = false;
    }

    function setBase(){
      if (!brilloraices) return;
      brilloraices.classList.remove('active');
      if (!brilloraices.classList.contains('base')) brilloraices.classList.add('base');
    }
    function setActive(){
      if (!brilloraices) return;
      brilloraices.classList.remove('base');
      if (!brilloraices.classList.contains('active')) brilloraices.classList.add('active');
    }

    function revisarBrilloraices(){
      const escenario = document.getElementById('escenario');
      if (!escenario || !brilloraices) return;
      const rect = escenario.getBoundingClientRect();
      const viewportHeight = window.innerHeight;
      const visiblePercent = Math.min(1, Math.max(0, (viewportHeight - rect.top) / (rect.height + viewportHeight)));
      const currentScroll = window.scrollY || window.pageYOffset;
      const scrollingDown = currentScroll > lastScrollY;
      const scrollingUp = currentScroll < lastScrollY;
      if (visiblePercent >= porcentajeActivacion && scrollingDown) {
        brilloraices.classList.remove('reverse');
        setActive();
      } 
      else if (visiblePercent < porcentajeActivacion && scrollingUp) {
        brilloraices.classList.remove('base', 'active');
        if (!brilloraices.classList.contains('reverse')) brilloraices.classList.add('reverse');
      } 
      else if (visiblePercent < 0.1) {
        brilloraices.classList.remove('reverse', 'active');
        setBase();
      }
      lastScrollY = currentScroll;
    }

    window.addEventListener('scroll', onScroll, { passive: true });
    window.addEventListener('resize', ()=>{ update(); revisarBrilloraices(); });
    if (brilloraices && !brilloraices.classList.contains('base') && !brilloraices.classList.contains('active')) {
      brilloraices.classList.add('base');
    }
    update(); revisarBrilloraices();

    const arbolAmarillo = document.getElementById("arbol-amarillo");
    const selen = document.getElementById("selen");
    window.addEventListener("mousemove", e=>{
      const x = (e.clientX/window.innerWidth) - 0.5;
      const y = (e.clientY/window.innerHeight) - 0.5;
      const fondoScrollY = parseFloat(arbolesfondo.dataset.scrollY||0);
      let offsetX = x * 30;
      if(offsetX > 0) offsetX = 0;
      if(offsetX < -50) offsetX = -50;
      const offsetY = fondoScrollY + Math.min(0, y * 0.04 * 100);
      arbolesfondo.style.backgroundPosition = `${offsetX}px ${offsetY}px`;
      const arbolAmarilloScrollY = parseFloat(arbolAmarillo.dataset.scrollY||0);
      arbolAmarillo.style.transform = `translateX(calc(-50% + ${x * 15}px)) translateY(${arbolAmarilloScrollY + arbolAmarilloPosicion + y * 0.04 * 40}px)`;
      const selenScrollY = parseFloat(selen.dataset.scrollY||0);
      selen.style.transform = `translateX(calc(-50% + ${x * -60}px)) translateY(${selenScrollY + y * 0.04 * 80}px)`;
    });

    /* --------- CONTADOR --------- */
    const contador = document.getElementById('contador');
    // ðŸ”¹ Fecha del evento
    const fechaEvento = new Date("2025-11-10T20:00:00").getTime();

    function actualizarContador() {
      const ahora = new Date().getTime();
      const distancia = fechaEvento - ahora;

      if (distancia < 0) {
        contador.innerHTML = "00:00:00";
        clearInterval(intervalo);
        return;
      }

      const dias = Math.floor(distancia / (1000 * 60 * 60 * 24));
      const horas = Math.floor((distancia / (1000 * 60 * 60)) % 24);
      const minutos = Math.floor((distancia / (1000 * 60)) % 60);
      const segundos = Math.floor((distancia / 1000) % 60);

      // ðŸ”¹ Siempre mismo formato, con dÃ­as si aplica
      contador.innerHTML =
        (dias > 0 ? dias + "d " : "") +
        String(horas).padStart(2, '0') + ":" +
        String(minutos).padStart(2, '0') + ":" +
        String(segundos).padStart(2, '0');
    }

    const intervalo = setInterval(actualizarContador, 1000);
    actualizarContador();

  </script>
</body>
</html>
